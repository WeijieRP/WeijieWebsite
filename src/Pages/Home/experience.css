.exp{
  --glass: rgba(10, 14, 20, 0.55);
  --glass-strong: rgba(10, 14, 20, 0.75);
  --stroke: rgba(255, 255, 255, 0.12);
  --glow-base: 0 10px 22px rgba(0, 0, 0, 0.42);

  --line-w: 3.5px;

  --title-grad-a:#5aaabc;
  --title-grad-b:#7d8fe6;
  --title-grad-c:#a45a87;

  --desc-grad-a:#ffd3a6;
  --desc-grad-b:#c7b0ff;
  --desc-stroke: rgba(0,0,0,.25);

  --float-distance:10px;
  --float-duration:14s;

  --pulse-duration:12s;
  --pulse-scale:1.035;

  --glow-duration:16s;
  --glow-strength:.18;

  --halo-duration:14s;
  --halo-opacity:.35;

  position:relative;
  background: var(--body-bg, #050816);
  color: var(--body-ink, #fbd2a0);
  min-height:100vh;
  overflow:hidden;
}

.exp-bg{
  position:absolute;
  inset:-12vh -8vw;
  background-size:cover;
  background-position:center;
  opacity:.32;
  z-index:0;
  pointer-events:none;
}

/* ✅ Stage becomes a real centered canvas */
.stage{
  position:relative;
  z-index:1;
  width:min(1500px, 96vw);
  height: clamp(780px, 86vh, 1020px);
  margin:0 auto;
}

/* animations (unchanged) */
@keyframes floatY{
  0%{transform:translate(-50%,-50%) translateY(0);}
  25%{transform:translate(-50%,-50%) translateY(calc(var(--float-distance) * -1));}
  50%{transform:translate(-50%,-50%) translateY(0);}
  75%{transform:translate(-50%,-50%) translateY(var(--float-distance));}
  100%{transform:translate(-50%,-50%) translateY(0);}
}
@keyframes pulseScale{0%{transform:scale(1);}50%{transform:scale(var(--pulse-scale));}100%{transform:scale(1);}}
@keyframes glowPulse{
  0%{box-shadow:var(--glow-base), 0 0 0 rgba(120,170,255,0);}
  50%{box-shadow:var(--glow-base), 0 0 26px rgba(120,170,255,var(--glow-strength));}
  100%{box-shadow:var(--glow-base), 0 0 0 rgba(120,170,255,0);}
}
@keyframes haloPulse{
  0%{opacity:0; transform:scale(1);}
  50%{opacity:var(--halo-opacity); transform:scale(1.06);}
  100%{opacity:0; transform:scale(1);}
}

/* hub */
.core{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width: clamp(340px, 28vw, 520px);
  aspect-ratio:1/1;
  z-index:4;
}
.core.breathe{ animation: floatY var(--float-duration) cubic-bezier(.22,1,.36,1) infinite; }

.core-disc{
  position:absolute;
  inset:0;
  border-radius:50%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:22px;
  background:
    radial-gradient(120% 100% at 50% 45%, rgba(110,160,255,.22), rgba(20,45,100,.34)),
    var(--glass);
  border:1px solid var(--stroke);
  box-shadow: var(--glow-base);
  backdrop-filter: blur(6px);
  isolation:isolate;
  transform-origin:center;
}
.core-disc.halo{
  animation:
    pulseScale var(--pulse-duration) cubic-bezier(.22,1,.36,1) infinite,
    glowPulse var(--glow-duration) cubic-bezier(.22,1,.36,1) infinite;
}
.core-disc.halo::before{
  content:"";
  position:absolute;
  inset:-10%;
  border-radius:50%;
  background: radial-gradient(60% 60% at 50% 50%, rgba(140,180,255,.55) 0%, rgba(140,180,255,.25) 35%, rgba(140,180,255,0) 70%);
  filter: blur(14px);
  z-index:-1;
  opacity:0;
  animation: haloPulse var(--halo-duration) cubic-bezier(.22,1,.36,1) infinite;
  animation-delay:.6s;
}

/* title + desc */
.exp-title--galaxy{
  margin:0 0 8px;
  font-size:clamp(22px, 2.8vw, 34px);
  font-weight:900;
  line-height:1.06;
  background: linear-gradient(90deg, var(--title-grad-a) 0%, var(--title-grad-b) 52%, var(--title-grad-c) 100%);
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color:transparent;
  color:transparent;
  -webkit-text-stroke:1px rgba(0,0,0,.22);
}
.exp-desc{
  margin:0;
  font-size:clamp(13px, 1.3vw, 16px);
  font-weight:600;
  background: linear-gradient(90deg, var(--desc-grad-a) 0%, var(--desc-grad-b) 100%);
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color:transparent;
  color:transparent;
  -webkit-text-stroke:.6px var(--desc-stroke);
}

/* ✅ Lines visible above bg */
.arrows{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:5;  /* ✅ above hub, below panels */
}
.arrow-path{
  stroke-width: var(--line-w);
  stroke-linecap: round;
  fill:none;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,.55));
  mix-blend-mode: screen;
  opacity:1;
}

/* Panels container */
.panels{ position:absolute; inset:0; z-index:6; }

/* panels */
.panel{
  position:absolute;
  transform: translate(-50%,-50%);
  width: clamp(360px, 28vw, 560px);
  z-index:6;
}
.panel-card{
  background:
    radial-gradient(110% 120% at 0% 0%, rgba(120,155,255,.18), rgba(120,155,255,0) 48%),
    var(--glass-strong);
  border:1px solid var(--stroke);
  border-radius:18px;
  box-shadow: var(--glow-base);
  backdrop-filter: blur(12px);
  padding:18px;
}
.panel-head{ display:flex; align-items:center; gap:12px; margin-bottom:8px; }
.tool{ width:54px; height:54px; object-fit:contain; }
.caption{ margin:0; font-weight:800; font-size:18px; color: var(--body-ink); }
.copy{ margin:0; font-size:14px; line-height:1.45; opacity:.94; color: var(--body-muted); }

/* reveal */
.reveal{ opacity:0; transform:translateY(18px); transition:opacity .55s ease, transform .65s cubic-bezier(.22,.8,.18,1); }
.reveal.is-inview{ opacity:1; transform:none; }

/* ✅ Tablet + mobile: center hub card + grid, hide lines */
@media (max-width: 900px){
  .stage{
    height:auto;
    padding: 76px 0 100px;
  }

  .arrows{ display:none; }

  /* ✅ reset absolutely-centered core that causes left shift */
  .core{
    display: flex;
    justify-content: center;
    align-items: center;
    position:relative;
    display: flex;
    justify-content: center;
    align-items: center;
    transform:none;
    width:min(760px, 94%);
    aspect-ratio:auto;
    margin-top: 10%;
    animation:none;
  }
  .core-disc{
    position:relative;
    inset:auto;
    border-radius:18px;
    min-height:140px;
  }
  .core-disc.halo::before{
    border-radius:18px;
    inset:-14%;
  }

  .panels{
    position:relative;
    inset:auto;
    width:min(960px, 94%);
    margin: 0 auto;
    display:grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap:14px;
  }
  .panel{
    position:relative;
    transform:none;
    left:auto !important;
    top:auto !important;
    width:100%;
  }
}

@media (max-width: 560px){
  .panels{ grid-template-columns: 1fr; gap:12px; }
}

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .core.breathe,
  .core-disc.halo,
  .core-disc.halo::before{
    animation:none;
  }
}
